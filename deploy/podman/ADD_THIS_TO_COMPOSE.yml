# ═════════════════════════════════════════════════════
# COPY THIS TO YOUR docker-compose.new.yml
# Add at the END of the file (after ducksnap-worker section)
# ═════════════════════════════════════════════════════

  # ═════════════════════════════════════════════════════  
  # Website: duckshotanalytics.com (DEV)
  # ═════════════════════════════════════════════════════
  site-duckshotanalytics-dev:
    build:
      context: /home/cira/dev-DuckSnapAnalytics
      dockerfile: Dockerfile
    container_name: site-duckshotanalytics-dev
    restart: always
    networks:
      - web-net
      - services-net
    depends_on:
      - dp1-db01
      - dp1-redis01
    environment:
      # Reverse Proxy Configuration (nginx-proxy + Let's Encrypt)
      - VIRTUAL_HOST=dev.duckshotanalytics.com
      - VIRTUAL_PORT=5000
      - LETSENCRYPT_HOST=dev.duckshotanalytics.com
      - LETSENCRYPT_EMAIL=${ADMIN_EMAIL}
      
      # Database and Services (separate dev database)
      - DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@dp1-db01:5432/duckshot_dev
      - REDIS_URL=redis://:${REDIS_PASSWORD}@dp1-redis01:6379/1
      
      # Application Configuration
      - NODE_ENV=development
      - PORT=5000
      - APP_URL=https://dev.duckshotanalytics.com
      
      # PayPal (Sandbox for dev)
      - PAYPAL_MODE=sandbox
      
      # Session
      - SESSION_SECRET=${DEV_SESSION_SECRET:-dev_session_secret_change_me}
